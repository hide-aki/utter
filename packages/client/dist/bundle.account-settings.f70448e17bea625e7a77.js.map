{"version":3,"sources":["webpack:///./layouts/account/account-settings.js"],"names":["__webpack_require__","r","__webpack_exports__","module","enterModule","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","react_apollo__WEBPACK_IMPORTED_MODULE_1__","_material_ui_core_Button__WEBPACK_IMPORTED_MODULE_2__","_material_ui_core_Button__WEBPACK_IMPORTED_MODULE_2___default","_material_ui_core_Grid__WEBPACK_IMPORTED_MODULE_3__","_material_ui_core_Grid__WEBPACK_IMPORTED_MODULE_3___default","brownies__WEBPACK_IMPORTED_MODULE_4__","_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_5__","_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_5___default","_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_6__","_styles_js__WEBPACK_IMPORTED_MODULE_7__","_graphql_mutations_account_mutations_js__WEBPACK_IMPORTED_MODULE_8__","AccountSettings","props","classes","console","log","cancel","mutate","temp","user","filtered","roles","filter","val","isCanceled","_uid","history","push","notification","type","a","createElement","Fragment","className","settingsContent","heroUnit","heroContent","component","variant","align","color","gutterBottom","heroButtons","paragraph","container","spacing","justify","item","mutation","onClick","reactHotLoaderGlobal","reactHotLoader","leaveModule","_default","Object","_default2","default","register"],"mappings":"4FAAAA,EAAAC,EAAAC,GAAA,SAAAC,GAAA,IACAC,EADAC,EAAAL,EAAA,QAAAM,EAAAN,EAAAO,EAAAF,GAAAG,EAAAR,EAAA,QAAAS,EAAAT,EAAA,QAAAU,EAAAV,EAAAO,EAAAE,GAAAE,EAAAX,EAAA,QAAAY,EAAAZ,EAAAO,EAAAI,GAAAE,EAAAb,EAAA,QAAAc,EAAAd,EAAA,QAAAe,EAAAf,EAAAO,EAAAO,GAAAE,EAAAhB,EAAA,QAAAiB,EAAAjB,EAAA,QAAAkB,EAAAlB,EAAA,QAoBA,SAAAmB,EAAAC,GACA,IAAAC,EAAAD,EAAAC,QACAC,QAAAC,IAAA,UAAAH,GAEA,IAAAI,EAAA,SAAAC,GACA,kBACAA,IACA,IAAAC,EAAiBb,EAAA,QAAOc,KACxBC,EAAqBf,EAAA,QAAOc,KAAAE,MAAAC,OAAA,SAAAC,GAC5B,qBAAAA,IAEAL,EAAAM,YAAA,EACAN,EAAAG,MAAAD,EACMf,EAAA,QAAOc,KAAAD,SACAb,EAAA,QAAOoB,YACPpB,EAAA,QAAOc,KACpBP,EAAAc,QAAAC,KAAA,UACAC,aAAA,oCACAC,KAAA,cAKA,OAAS/B,EAAAgC,EAAKC,cAAejC,EAAAgC,EAAKE,SAAA,KAAiBlC,EAAAgC,EAAKC,cAAA,QACxDE,UAAApB,EAAAqB,iBACKpC,EAAAgC,EAAKC,cAAA,OACVE,UAAApB,EAAAsB,UACKrC,EAAAgC,EAAKC,cAAA,OACVE,UAAApB,EAAAuB,aACKtC,EAAAgC,EAAKC,cAAexB,EAAAuB,EAAU,CACnCO,UAAA,KACAC,QAAA,KACAC,MAAA,SACAC,MAAA,cACAC,cAAA,GACG,oBAAuB3C,EAAAgC,EAAKC,cAAA,OAC/BE,UAAApB,EAAA6B,iBACe,IAAPrC,EAAA,QAAOc,KAAAK,YAA8B1B,EAAAgC,EAAKC,cAAA,WAA4BjC,EAAAgC,EAAKC,cAAexB,EAAAuB,EAAU,CAC5GQ,QAAA,KACAC,MAAA,SACAC,MAAA,gBACAG,WAAA,GACG,6HAAgI7C,EAAAgC,EAAKC,cAAe3B,EAAA0B,EAAI,CAC3Jc,WAAA,EACAC,QAAA,GACAC,QAAA,UACKhD,EAAAgC,EAAKC,cAAe3B,EAAA0B,EAAI,CAC7BiB,MAAA,GACKjD,EAAAgC,EAAKC,cAAe/B,EAAA,EAAQ,CACjCgD,SAActC,EAAA,GACX,SAAAO,GACH,OAAWnB,EAAAgC,EAAKC,cAAe7B,EAAA4B,EAAM,CACrCQ,QAAA,YACAE,MAAA,YACAS,QAAAjC,EAAAC,IACK,6BA1ELrB,GAAA,oBAAAsD,0CAA0F1D,EAAQ,SAAkBI,cACpHA,EAAAD,GAGA,WACA,IAAAC,GAAA,oBAAAsD,0CAA0F1D,EAAQ,SAAkBI,YACpHA,KAAAD,GAFA,GA0EA,IAOAwD,EAaAC,EApBAC,EAAeC,OAAA9C,EAAA,WAAA8C,CAAW7C,EAAA,EAAX6C,CAAiB3C,GAEhC4C,EAAAF,EACe3D,EAAA,WAIfyD,GAAA,oBAAAD,0CAA6F1D,EAAQ,SAAkBgE,WAMvHL,EAAAM,SAAA9C,EAAA,iGACAwC,EAAAM,SAAAJ,EAAA,2FAMAD,GAAA,oBAAAF,0CAA0F1D,EAAQ,SAAkB4D,cACpHA,EAAAzD,GAKA,WACA,IAAAwD,GAAA,oBAAAD,0CAA6F1D,EAAQ,SAAkBgE,QAEvHL,IAIAA,EAAAM,SAAA9C,EAAA,iGACAwC,EAAAM,SAAAJ,EAAA,0FACAF,EAAAM,SAAAF,EAAA,0FATA,GAcA,WACA,IAAAH,GAAA,oBAAAF,0CAA0F1D,EAAQ,SAAkB4D,YACpHA,KAAAzD,GAFA","file":"bundle.account-settings.f70448e17bea625e7a77.js","sourcesContent":["(function () {\n  var enterModule = (typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal : require('react-hot-loader')).enterModule;\n  enterModule && enterModule(module);\n})();\n\n(function () {\n  var enterModule = (typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal : require('react-hot-loader')).enterModule;\n  enterModule && enterModule(module);\n})();\n\nimport React from \"react\";\nimport { Mutation } from \"react-apollo\";\nimport Button from \"@material-ui/core/Button\";\nimport Grid from \"@material-ui/core/Grid\";\nimport { cookies, session } from \"brownies\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport { styles } from \"./styles.js\";\nimport { CANCEL_PAY_MONTHLY } from \"../../graphql/mutations/account-mutations.js\";\n\nfunction AccountSettings(props) {\n  var classes = props.classes;\n  console.log(\"props: \", props);\n\n  var cancel = function cancel(mutate) {\n    return function () {\n      mutate();\n      var temp = session.user;\n      var filtered = session.user.roles.filter(function (val) {\n        return val !== \"payMonthly\";\n      });\n      temp.isCanceled = true;\n      temp.roles = filtered;\n      session.user = temp;\n      delete cookies._uid;\n      delete session.user;\n      props.history.push(\"/login\", {\n        notification: \"Your account has been deactivated\",\n        type: \"success\"\n      });\n    };\n  };\n\n  return React.createElement(React.Fragment, null, React.createElement(\"main\", {\n    className: classes.settingsContent\n  }, React.createElement(\"div\", {\n    className: classes.heroUnit\n  }, React.createElement(\"div\", {\n    className: classes.heroContent\n  }, React.createElement(Typography, {\n    component: \"h1\",\n    variant: \"h2\",\n    align: \"center\",\n    color: \"textPrimary\",\n    gutterBottom: true\n  }, \"Account Settings\"), React.createElement(\"div\", {\n    className: classes.heroButtons\n  }))), session.user.isCanceled === false && React.createElement(\"div\", null, React.createElement(Typography, {\n    variant: \"h6\",\n    align: \"center\",\n    color: \"textSecondary\",\n    paragraph: true\n  }, \"Your account will be deactivated and all payments will stop. You will not be able to login with your current credentials.\"), React.createElement(Grid, {\n    container: true,\n    spacing: 16,\n    justify: \"center\"\n  }, React.createElement(Grid, {\n    item: true\n  }, React.createElement(Mutation, {\n    mutation: CANCEL_PAY_MONTHLY\n  }, function (mutate) {\n    return React.createElement(Button, {\n      variant: \"contained\",\n      color: \"secondary\",\n      onClick: cancel(mutate)\n    }, \"Cancel My Account\");\n  }))))));\n}\n\nvar _default = withStyles(styles)(AccountSettings);\n\nvar _default2 = _default;\nexport default _default2;\n;\n\n(function () {\n  var reactHotLoader = (typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal : require('react-hot-loader')).default;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(AccountSettings, \"AccountSettings\", \"/var/www/html/utter/packages/client/src/layouts/account/account-settings.js\");\n  reactHotLoader.register(_default, \"default\", \"/var/www/html/utter/packages/client/src/layouts/account/account-settings.js\");\n})();\n\n;\n\n(function () {\n  var leaveModule = (typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal : require('react-hot-loader')).leaveModule;\n  leaveModule && leaveModule(module);\n})();\n\n;\n\n(function () {\n  var reactHotLoader = (typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal : require('react-hot-loader')).default;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(AccountSettings, \"AccountSettings\", \"/var/www/html/utter/packages/client/src/layouts/account/account-settings.js\");\n  reactHotLoader.register(_default, \"_default\", \"/var/www/html/utter/packages/client/src/layouts/account/account-settings.js\");\n  reactHotLoader.register(_default2, \"default\", \"/var/www/html/utter/packages/client/src/layouts/account/account-settings.js\");\n})();\n\n;\n\n(function () {\n  var leaveModule = (typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal : require('react-hot-loader')).leaveModule;\n  leaveModule && leaveModule(module);\n})();"],"sourceRoot":""}