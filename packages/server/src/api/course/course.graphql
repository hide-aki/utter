directive @auth on OBJECT | FIELD_DEFINITION
directive @hasScope(scope: String) on FIELD_DEFINITION

type Course {
  courseDescription: String
  courseImage: String
  courseMode: String!
  courseName: String!
  createdAt: String 
  _id: ID!
  levels: [Level]
  owner: User!
	resources: String
	subscribers: Int
  teachingLang: String
  usingLang: String
  updatedAt: String
}

type Resource {
	value: String,
	label: String,
	className: String
}

input CourseUpdated {
  _id: ID!
  courseName: String
  coursedescription: String
  courseMode: String
}

input GetCoursesInput {
    cursor: String
    courseName: String!
    owner: String!
		resources: String 
    usingLang: String!
    teachingLang: String!
}

input CourseCreateInput {
	courseImage: String
  courseName: String!
  courseDescription: String
  courseMode: String
	resources: String
	teachingLang: String
  usingLang: String
}

type PaginatedCourses {
  courses: [Course!]! 
  cursor: String
}

extend type Query {
  getCourse(_id: ID!): Course!
	getCourseLevels(courseId: String!): Course!
  # getCourses: PaginatedCourses 
  getCourses: [Course] 
	getCreatedCourses(
    cursor: String
	): PaginatedCourses @auth 
  getCourseCount: Int
}

extend type Mutation {
  courseCreate(input: CourseCreateInput!): Course! 
	courseDelete(resourceID: String!): Boolean @hasScope(scope: "course:delete")
  courseUpdate(input: CourseUpdated!): Course!
	subscribe(courseId: ID!): Boolean
	unsubscribe(courseId: ID!): Boolean
}
