directive @auth on OBJECT | FIELD_DEFINITION
directive @hasScope(scope: String) on FIELD_DEFINITION

type Resource {
	value: String,
	label: String,
	className: String
}

input ResourceInput {
	value: String,
	label: String,
	className: String
}

type Course {
  id: ID!
  courseName: String!
  owner: User
  courseDescription: String
  courseImage: String
  courseMode: String!
  levels: [Level]
	resources: [Resource]
  teachingLang: String
  usingLang: String
  createdAt: Int
}

input CourseUpdated {
  id: ID!
  courseId: String
  courseName: String
  coursedescription: String
  courseMode: String
}

input CourseCreateInput {
  courseId: String
	courseImage: String
  courseName: String!
  courseDescription: String
  courseMode: String
	resources: [ResourceInput]
	teachingLang: String
  usingLang: String
}

type PaginatedCourses {
  courses: [Course] 
  cursor: String
}

extend type Query {
  getCourse(courseId: String!): Course!
	getCourseLevels(courseId: String!): Course!
  getCourses(
    cursor: String
    courseName: String!
    owner: String!
		resources: [ResourceInput] 
    usingLang: String!
    teachingLang: String!
  ): PaginatedCourses 
	getCreatedCourses(
    cursor: String
	): PaginatedCourses @auth 
  getCourseCount: Int
}

extend type Mutation {
  courseCreate(input: CourseCreateInput!): Course! 
	courseDelete(resourceID: String!): Boolean @hasScope(scope: "course:delete")
  courseUpdate(input: CourseUpdated!): Course!
}
