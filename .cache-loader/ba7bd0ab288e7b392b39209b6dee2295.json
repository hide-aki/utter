{"remainingRequest":"/var/www/html/utter/node_modules/react-hot-loader/webpack.js!/var/www/html/utter/node_modules/babel-loader/lib/index.js!/var/www/html/utter/client/src/containers/Channels/index.js","dependencies":[{"path":"/var/www/html/utter/client/src/containers/Channels/index.js","mtime":1516678835250},{"path":"/var/www/html/utter/.babelrc","mtime":1518822814526},{"path":"/var/www/html/utter/node_modules/cache-loader/dist/cjs.js","mtime":1510929699000},{"path":"/var/www/html/utter/node_modules/react-hot-loader/webpack.js","mtime":1510167650000},{"path":"/var/www/html/utter/node_modules/babel-loader/lib/index.js","mtime":1503096278000}],"contextDependencies":[],"result":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _redux = require('redux');\n\nvar _reactRedux = require('react-redux');\n\nvar _reactRouterDom = require('react-router-dom');\n\nvar _styledComponents = require('styled-components');\n\nvar _styledComponents2 = _interopRequireDefault(_styledComponents);\n\nvar _axios = require('axios');\n\nvar _axios2 = _interopRequireDefault(_axios);\n\nvar _socket = require('socket.io-client');\n\nvar _socket2 = _interopRequireDefault(_socket);\n\nvar _utils = require('../../utils');\n\nvar _utils2 = _interopRequireDefault(_utils);\n\nvar _shortid = require('shortid');\n\nvar _shortid2 = _interopRequireDefault(_shortid);\n\nvar _containers = require('../../containers');\n\nvar _components = require('../../components');\n\nvar _actions = require('./actions.js');\n\nvar _actions2 = require('../Chat/actions.js');\n\nvar _actions3 = require('../Rooms/actions.js');\n\nvar _actions4 = require('../../services/socketio/actions.js');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// actions\nvar StyledChannel = /*#__PURE__*/_styledComponents2.default.div.withConfig({\n  displayName: 'Channels__StyledChannel'\n})(['color:', ';cursor:pointer;font-size:1rem;padding:10px 0 0 0;text-align:left;'], function (props) {\n  return props.selected ? 'red' : 'black';\n});\nvar Channel = function Channel(_ref) {\n  var name = _ref.name,\n      id = _ref.id,\n      onClick = _ref.onClick;\n\n  return _react2.default.createElement(\n    StyledChannel,\n    { onClick: onClick },\n    _react2.default.createElement('br', null),\n    _react2.default.createElement(\n      _components.Text,\n      null,\n      name\n    )\n  );\n};\n\nvar ChannelsList = function ChannelsList(_ref2) {\n  var channelList = _ref2.channelList,\n      channelSortAsc = _ref2.channelSortAsc,\n      onChannelSelect = _ref2.onChannelSelect;\n  return _react2.default.createElement(\n    _components.Box,\n    { alignitems: 'flex-start', justifycontent: 'flex-start' },\n    _react2.default.createElement(\n      _components.Ol,\n      { fontsize: '1.2rem', color: 'black', padding: '20px', textalign: 'left' },\n      channelList.map(function (_ref3) {\n        var _id = _ref3._id,\n            name = _ref3.name,\n            language = _ref3.language,\n            socket = _ref3.socket;\n\n        var handleClick = function handleClick() {\n          onChannelSelect(_id, name, language, socket);\n        };\n        return _react2.default.createElement(Channel, { key: _id, id: _id, name: name, onClick: handleClick });\n      })\n    )\n  );\n};\n\nvar ChannelsContainer = function (_Component) {\n  (0, _inherits3.default)(ChannelsContainer, _Component);\n\n  function ChannelsContainer(props) {\n    (0, _classCallCheck3.default)(this, ChannelsContainer);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, (ChannelsContainer.__proto__ || Object.getPrototypeOf(ChannelsContainer)).call(this, props));\n\n    _this.onChannelSelect = _this.onChannelSelect.bind(_this);\n    return _this;\n  }\n\n  (0, _createClass3.default)(ChannelsContainer, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      _axios2.default.get('/api/channels').then(function (res) {\n        var channels = res.data.channel;\n        _this2.props.actions.loadChannels(channels);\n      }).catch(function (err) {\n        alert('Sorry. There was an internal error.  Please contact the system administrator about the problem' + err);\n      });\n    }\n  }, {\n    key: 'onChannelSelect',\n    value: function onChannelSelect(_id, name, language, socket) {\n      var obj = this.props.userReducer.userProfile.courses.filter(function (obj) {\n        return obj.name === name;\n      })[0];\n      if (obj) {\n        this.props.actions.channelSelect(_id);\n        this.props.actions.updateRoomTitle(name);\n        this.props.actions.updateRoomLanguage(language);\n        this.props.actions.setChannelId(_id);\n        this.props.actions.nspConnect(socket);\n      } else {\n        alert('you must be enrolled in that course to join a channel');\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      if (this.props.channelReducer.channelId) {\n        var channel_room = _react2.default.createElement(_containers.Rooms, null);\n      } else {\n        var channel_room = _react2.default.createElement(\n          _components.Column,\n          {\n            alignitems: 'flex-start',\n            flexdirection: 'column',\n            fontsize: '1.5rem',\n            height: '500px',\n            justifycontent: 'top',\n            overflowy: 'scroll',\n            overflowx: 'none',\n            textalign: 'left' },\n          _react2.default.createElement(ChannelsList, {\n            channelList: this.props.channelReducer.channels,\n            onChannelSelect: this.onChannelSelect\n          })\n        );\n      }\n      return _react2.default.createElement(\n        'div',\n        { style: { width: '100%' } },\n        channel_room\n      );\n    }\n  }]);\n  return ChannelsContainer;\n}(_react.Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    channelReducer: state.channelReducer,\n    socketReducer: state.socketReducer,\n    userReducer: state.userReducer\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    actions: (0, _redux.bindActionCreators)({\n      channelSelect: _actions.channelSelect,\n      setChannelId: _actions.setChannelId,\n      loadChannels: _actions.loadChannels,\n      updateMsg: _actions2.updateMsg,\n      sortChannels: _actions.sortChannels,\n      nspConnect: _actions4.nspConnect,\n      updateRoomLanguage: _actions3.updateRoomLanguage,\n      updateRoomTitle: _actions3.updateRoomTitle\n    }, dispatch)\n  };\n};\n\n// rooms should have a language property\n\nvar _default = (0, _reactRedux.connect)(mapStateToProps, mapDispatchToProps)(ChannelsContainer);\n\nexports.default = _default;\n;\n\nvar _temp = function () {\n  if (typeof __REACT_HOT_LOADER__ === 'undefined') {\n    return;\n  }\n\n  __REACT_HOT_LOADER__.register(StyledChannel, 'StyledChannel', '/var/www/html/utter/client/src/containers/Channels/index.js');\n\n  __REACT_HOT_LOADER__.register(Channel, 'Channel', '/var/www/html/utter/client/src/containers/Channels/index.js');\n\n  __REACT_HOT_LOADER__.register(ChannelsList, 'ChannelsList', '/var/www/html/utter/client/src/containers/Channels/index.js');\n\n  __REACT_HOT_LOADER__.register(ChannelsContainer, 'ChannelsContainer', '/var/www/html/utter/client/src/containers/Channels/index.js');\n\n  __REACT_HOT_LOADER__.register(mapStateToProps, 'mapStateToProps', '/var/www/html/utter/client/src/containers/Channels/index.js');\n\n  __REACT_HOT_LOADER__.register(mapDispatchToProps, 'mapDispatchToProps', '/var/www/html/utter/client/src/containers/Channels/index.js');\n\n  __REACT_HOT_LOADER__.register(_default, 'default', '/var/www/html/utter/client/src/containers/Channels/index.js');\n}();\n\n;\n\n ;(function register() { /* react-hot-loader/webpack */ if (process.env.NODE_ENV !== 'production') { if (typeof __REACT_HOT_LOADER__ === 'undefined') { return; } /* eslint-disable camelcase, no-undef */ var webpackExports = typeof __webpack_exports__ !== 'undefined' ? __webpack_exports__ : module.exports; /* eslint-enable camelcase, no-undef */ if (typeof webpackExports === 'function') { __REACT_HOT_LOADER__.register(webpackExports, 'module.exports', \"/var/www/html/utter/client/src/containers/Channels/index.js\"); return; } /* eslint-disable no-restricted-syntax */ for (var key in webpackExports) { /* eslint-enable no-restricted-syntax */ if (!Object.prototype.hasOwnProperty.call(webpackExports, key)) { continue; } var namedExport = void 0; try { namedExport = webpackExports[key]; } catch (err) { continue; } __REACT_HOT_LOADER__.register(namedExport, key, \"/var/www/html/utter/client/src/containers/Channels/index.js\"); } } })();","{\"version\":3,\"sources\":[\"/var/www/html/utter/client/src/containers/Channels/index.js\"],\"names\":[\"StyledChannel\",\"div\",\"props\",\"selected\",\"Channel\",\"name\",\"id\",\"onClick\",\"ChannelsList\",\"channelList\",\"channelSortAsc\",\"onChannelSelect\",\"map\",\"_id\",\"language\",\"socket\",\"handleClick\",\"ChannelsContainer\",\"bind\",\"get\",\"then\",\"channels\",\"res\",\"data\",\"channel\",\"actions\",\"loadChannels\",\"catch\",\"alert\",\"err\",\"obj\",\"userReducer\",\"userProfile\",\"courses\",\"filter\",\"channelSelect\",\"updateRoomTitle\",\"updateRoomLanguage\",\"setChannelId\",\"nspConnect\",\"channelReducer\",\"channelId\",\"channel_room\",\"width\",\"mapStateToProps\",\"state\",\"socketReducer\",\"mapDispatchToProps\",\"updateMsg\",\"sortChannels\",\"dispatch\"],\"mappings\":\"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\",\"sourcesContent\":[\"import React, {Component} from 'react'\\nimport {bindActionCreators} from 'redux'\\nimport {connect} from 'react-redux'\\nimport {Link} from 'react-router-dom'\\nimport styled from 'styled-components'\\nimport axios from 'axios'\\nimport io from 'socket.io-client'\\nimport ApiMgr from '../../utils'\\nimport shortid from 'shortid'\\nimport {Rooms} from '../../containers'\\nimport {Box, Button, Column, Input, Ol, Text} from '../../components'\\n\\n// actions\\nimport {\\n  channelSelect,\\n  setChannelId,\\n  loadChannels,\\n  setChannelSocket,\\n  sortChannels\\n} from './actions.js'\\n\\nimport {updateMsg} from '../Chat/actions.js'\\n\\nimport {updateRoomLanguage, updateRoomTitle} from '../Rooms/actions.js'\\n\\nimport {nspConnect} from '../../services/socketio/actions.js'\\n\\nconst StyledChannel = styled.div`\\n  color: ${props => (props.selected ? 'red' : 'black')};\\n  cursor: pointer;\\n  font-size: 1rem;\\n  padding: 10px 0 0 0;\\n  text-align: left;\\n`\\nconst Channel = ({name, id, onClick}) => {\\n  return (\\n    <StyledChannel onClick={onClick}>\\n      <br />\\n      <Text>{name}</Text>\\n    </StyledChannel>\\n  )\\n}\\n\\nconst ChannelsList = ({channelList, channelSortAsc, onChannelSelect}) =>\\n  <Box alignitems=\\\"flex-start\\\" justifycontent=\\\"flex-start\\\">\\n    <Ol fontsize=\\\"1.2rem\\\" color=\\\"black\\\" padding=\\\"20px\\\" textalign=\\\"left\\\">\\n      {channelList.map(({_id, name, language, socket}) => {\\n        const handleClick = () => {\\n          onChannelSelect(_id, name, language, socket)\\n        }\\n        return <Channel key={_id} id={_id} name={name} onClick={handleClick} />\\n      })}\\n    </Ol>\\n  </Box>\\n\\nclass ChannelsContainer extends Component {\\n  constructor(props) {\\n    super(props)\\n    this.onChannelSelect = this.onChannelSelect.bind(this)\\n  }\\n\\n  componentDidMount() {\\n    axios\\n      .get('/api/channels')\\n      .then(res => {\\n        const channels = res.data.channel\\n        this.props.actions.loadChannels(channels)\\n      })\\n      .catch(err => {\\n        alert(\\n          'Sorry. There was an internal error.  Please contact the system administrator about the problem' +\\n            err\\n        )\\n      })\\n  }\\n\\n  onChannelSelect(_id, name, language, socket) {\\n    let obj = this.props.userReducer.userProfile.courses.filter(\\n      obj => obj.name === name\\n    )[0]\\n    if (obj) {\\n      this.props.actions.channelSelect(_id)\\n      this.props.actions.updateRoomTitle(name)\\n      this.props.actions.updateRoomLanguage(language)\\n      this.props.actions.setChannelId(_id)\\n      this.props.actions.nspConnect(socket)\\n    } else {\\n      alert('you must be enrolled in that course to join a channel')\\n    }\\n  }\\n\\n  render() {\\n    if (this.props.channelReducer.channelId) {\\n      var channel_room = <Rooms />\\n    } else {\\n      var channel_room = (\\n        <Column\\n          alignitems=\\\"flex-start\\\"\\n          flexdirection=\\\"column\\\"\\n          fontsize=\\\"1.5rem\\\"\\n          height=\\\"500px\\\"\\n          justifycontent=\\\"top\\\"\\n          overflowy=\\\"scroll\\\"\\n          overflowx=\\\"none\\\"\\n          textalign=\\\"left\\\">\\n          <ChannelsList\\n            channelList={this.props.channelReducer.channels}\\n            onChannelSelect={this.onChannelSelect}\\n          />\\n        </Column>\\n      )\\n    }\\n    return <div style={{width: '100%'}}>{channel_room}</div>\\n  }\\n}\\n\\nconst mapStateToProps = state => {\\n  return {\\n    channelReducer: state.channelReducer,\\n    socketReducer: state.socketReducer,\\n    userReducer: state.userReducer\\n  }\\n}\\n\\nconst mapDispatchToProps = dispatch => {\\n  return {\\n    actions: bindActionCreators(\\n      {\\n        channelSelect,\\n        setChannelId,\\n        loadChannels,\\n        updateMsg,\\n        sortChannels,\\n        nspConnect,\\n        updateRoomLanguage,\\n        updateRoomTitle\\n      },\\n      dispatch\\n    )\\n  }\\n}\\n\\n// rooms should have a language property\\nexport default connect(mapStateToProps, mapDispatchToProps)(ChannelsContainer)\\n\"]}"]}